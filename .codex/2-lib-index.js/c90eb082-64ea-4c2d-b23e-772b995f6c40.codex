{
  "title": "Stringify existing url",
  "description": "You can pass in a url along with a type \"https\" or \"ssh\" and this function will then format your URL to the provided type.",
  "startLine": 246,
  "endLine": 271,
  "code": [
    {
      "content": "gitUrlParse.stringify = function (obj, type) {",
      "number": "246"
    },
    {
      "content": "    type = type || ((obj.protocols && obj.protocols.length) ? obj.protocols.join('+') : obj.protocol);",
      "number": "247"
    },
    {
      "content": "    const port = obj.port ? `:${obj.port}` : '';",
      "number": "248"
    },
    {
      "content": "    const user = obj.user || 'git';",
      "number": "249"
    },
    {
      "content": "    const maybeGitSuffix = obj.git_suffix ? \".git\" : \"\"",
      "number": "250"
    },
    {
      "content": "    switch (type) {",
      "number": "251"
    },
    {
      "content": "        case \"ssh\":",
      "number": "252"
    },
    {
      "content": "            if (port)",
      "number": "253"
    },
    {
      "content": "                return `ssh://${user}@${obj.resource}${port}/${obj.full_name}${maybeGitSuffix}`;",
      "number": "254"
    },
    {
      "content": "            else",
      "number": "255"
    },
    {
      "content": "                return `${user}@${obj.resource}:${obj.full_name}${maybeGitSuffix}`;",
      "number": "256"
    },
    {
      "content": "        case \"git+ssh\":",
      "number": "257"
    },
    {
      "content": "        case \"ssh+git\":",
      "number": "258"
    },
    {
      "content": "        case \"ftp\":",
      "number": "259"
    },
    {
      "content": "        case \"ftps\":",
      "number": "260"
    },
    {
      "content": "            return `${type}://${user}@${obj.resource}${port}/${obj.full_name}${maybeGitSuffix}`;",
      "number": "261"
    },
    {
      "content": "        case \"http\":",
      "number": "262"
    },
    {
      "content": "        case \"https\":",
      "number": "263"
    },
    {
      "content": "            const auth = obj.token",
      "number": "264"
    },
    {
      "content": "              ? buildToken(obj) : obj.user && (obj.protocols.includes('http') || obj.protocols.includes('https'))",
      "number": "265"
    },
    {
      "content": "                ? `${obj.user}@` : \"\";",
      "number": "266"
    },
    {
      "content": "            return `${type}://${auth}${obj.resource}${port}/${buildPath(obj)}${maybeGitSuffix}`;",
      "number": "267"
    },
    {
      "content": "        default:",
      "number": "268"
    },
    {
      "content": "            return obj.href;",
      "number": "269"
    },
    {
      "content": "    }",
      "number": "270"
    },
    {
      "content": "};",
      "number": "271"
    }
  ],
  "file": {
    "name": "lib/index.js",
    "blob": "72146f9106e69d475ae48e35a91567db3ce4d1d5",
    "commit": "f56cbc1f1585b0672092b749512776cbef79d667"
  },
  "versionId": "c90eb082-64ea-4c2d-b23e-772b995f6c40"
}